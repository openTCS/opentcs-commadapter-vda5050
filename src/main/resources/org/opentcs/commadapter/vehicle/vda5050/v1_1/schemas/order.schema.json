{
    "$schema": "http://json-schema.org/draft-07/schema#",
    "title": "Order Message",
    "subtopic": "/order",
    "documentVersion": "5.0.0",
    "type": "object",
    "additionalProperties": false,
    "properties": {
        "headerId": {
            "title": "headerId",
            "type": "integer"
        },
        "timestamp": {
            "title": "timestamp",
            "type": "string",
            "examples": [
                "1991-03-11T11:40:03.12Z"
            ]
        },
        "version": {
            "title": "Version",
            "type": "string",
            "examples": [
                "1.3.2"
            ]
        },
        "manufacturer": {
            "type": "string"
        },
        "serialNumber": {
            "type": "string"
        },
        "orderId": {
            "title": "orderId",
            "type": "string"
        },
        "orderUpdateId": {
            "title": "orderUpdateId",
            "type": "integer",
            "minimum": 0,
            "maximum": 4294967296
        },
        "zoneSetId": {
            "title": "zoneSetId",
            "type": "string"
        },
        "nodes": {
            "title": "List of Nodes",
            "type": "array",
            "items": {
                "type": "object",
                "title": "node",
                "additionalProperties": false,
                "required": [
                    "nodeId",
                    "sequenceId",
                    "released",
                    "actions"
                ],
                "properties": {
                    "nodeId": {
                        "title": "nodeId",
                        "type": "string",
                        "examples": [
                            "pumpenhaus_1",
                            "MONTAGE"
                        ]
                    },
                    "sequenceId": {
                        "title": "sequenceId",
                        "type": "integer",
                        "minimum": 0,
                        "maximum": 4294967296
                    },
                    "nodeDescription": {
                        "title": "nodeDescription",
                        "type": "string"
                    },
                    "released": {
                        "type": "boolean",
                        "title": "released"
                    },
                    "nodePosition": {
                        "title": "nodePosition",
                        "type": "object",
                        "additionalProperties": false,
                        "required": [
                            "x",
                            "y",
                            "mapId"
                        ],
                        "properties": {
                            "x": {
                                "title": "x",
                                "type": "number"
                            },
                            "y": {
                                "title": "y",
                                "type": "number"
                            },
                            "theta": {
                                "title": "Theta",
                                "type": "number",
                                "minimum": -3.14159265359,
                                "maximum": 3.14159265359
                            },
                            "allowedDeviationXY": {
                                "title": "allowedDeviationXY",
                                "type": "number",
                                "minimum": 0
                            },
                            "allowedDeviationTheta": {
                                "title": "allowedDeviationTheta",
                                "type": "number",
                                "minimum": 0,
                                "maximum": 3.141592654
                            },
                            "mapId": {
                                "title": "mapId",
                                "type": "string"
                            },
                            "mapDescription": {
                                "title": "mapDescription",
                                "type": "string"
                            }
                        }
                    },
                    "actions": {
                        "title": "actions",
                        "type": "array",
                        "items": {
                            "type": "object",
                            "title": "nodeAction",
                            "additionalProperties": false,
                            "required": [
                                "actionType",
                                "actionId",
                                "blockingType"
                            ],
                            "properties": {
                                "actionType": {
                                    "type": "string",
                                    "title": "actionType"
                                },
                                "actionId": {
                                    "type": "string",
                                    "title": "actionId"
                                },
                                "actionDescription": {
                                    "type": "string",
                                    "title": "Additional Information on the action"
                                },
                                "blockingType": {
                                    "type": "string",
                                    "title": "blockingType",
                                    "enum": [
                                        "NONE",
                                        "SOFT",
                                        "HARD"
                                    ]
                                },
                                "actionParameters": {
                                    "type": "array",
                                    "items": {
                                        "title": "actionParameter",
                                        "type": "object",
                                        "additionalProperties": false,
                                        "required": [
                                            "key",
                                            "value"
                                        ],
                                        "properties": {
                                            "key": {
                                                "type": "string",
                                                "examples": [
                                                    "duration",
                                                    "direction",
                                                    "signal"
                                                ]
                                            },
                                            "value": {
                                                "type": [
                                                    "array",
                                                    "boolean",
                                                    "number",
                                                    "string"
                                                ],
                                                "examples": [
                                                    103.2,
                                                    "left",
                                                    true,
                                                    [
                                                        "arrays",
                                                        "are",
                                                        "also",
                                                        "valid"
                                                    ]
                                                ]
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    }
                }
            }
        },
        "edges": {
            "type": "array",
            "title": "edges",
            "items": {
                "type": "object",
                "title": "edge",
                "additionalProperties": false,
                "required": [
                    "edgeId",
                    "sequenceId",
                    "released",
                    "startNodeId",
                    "endNodeId",
                    "actions"
                ],
                "properties": {
                    "edgeId": {
                        "type": "string",
                        "title": "edgeId"
                    },
                    "sequenceId": {
                        "type": "integer",
                        "minimum": 0,
                        "maximum": 4294967296,
                        "title": "sequenceId"
                    },
                    "edgeDescription": {
                        "type": "string",
                        "title": "edgeDescription"
                    },
                    "released": {
                        "type": "boolean",
                        "title": "released"
                    },
                    "startNodeId": {
                        "type": "string",
                        "title": "startNodeId"
                    },
                    "endNodeId": {
                        "type": "string",
                        "title": "endNodeId"
                    },
                    "maxSpeed": {
                        "type": "number",
                        "title": "maxSpeed"
                    },
                    "maxHeight": {
                        "type": "number",
                        "title": "maxHeight"
                    },
                    "minHeight": {
                        "type": "number",
                        "title": "minHeight"
                    },
                    "orientation": {
                        "type": "number",
                        "title": "orientation",
                        "minimum": -3.14159265359,
                        "maximum": 3.14159265359
                    },
                    "direction": {
                        "type": "string",
                        "title": "direction",
                        "examples": [
                            "left",
                            "right",
                            "straight",
                            "433MHz"
                        ]
                    },
                    "rotationAllowed": {
                        "type": "boolean",
                        "title": "rotationAllowed"
                    },
                    "maxRotationSpeed": {
                        "type": "number",
                        "title": "maxRotationSpeed"
                    },
                    "length": {
                        "type": "number",
                        "title": "length"
                    },
                    "trajectory": {
                        "type": "object",
                        "additionalProperties": false,
                        "properties": {
                            "degree": {
                                "type": "number"
                            },
                            "knotVector": {
                                "type": "array",
                                "items": {
                                    "type": "number",
                                    "maximum": 1,
                                    "minimum": 0
                                }
                            },
                            "controlPoints": {
                                "type": "array",
                                "items": {
                                    "type": "object",
                                    "additionalProperties": false,
                                    "title": "controlPoint",
                                    "properties": {
                                        "x": {
                                            "type": "number"
                                        },
                                        "y": {
                                            "type": "number"
                                        },
                                        "weight": {
                                            "type": "number"
                                        },
                                        "orientation": {
                                            "type": "number",
                                            "minimum": -3.14159265359,
                                            "maximum": 3.14159265359
                                        }
                                    },
                                    "required": [
                                        "x",
                                        "y",
                                        "weight"
                                    ]
                                }
                            }
                        },
                        "required": [
                            "degree",
                            "knotVector",
                            "controlPoints"
                        ]
                    },
                    "actions": {
                        "title": "Actions",
                        "type": "array",
                        "items": {
                            "type": "object",
                            "title": "edgeAction",
                            "additionalProperties": false,
                            "required": [
                                "actionId",
                                "actionType"
                            ],
                            "properties": {
                                "actionType": {
                                    "type": "string",
                                    "title": "actionType"
                                },
                                "actionId": {
                                    "type": "string",
                                    "title": "actionId"
                                },
                                "actionDescription": {
                                    "type": "string",
                                    "title": "Additional Information on the action"
                                },
                                "blockingType": {
                                    "type": "string",
                                    "title": "blockingType",
                                    "enum": [
                                        "NONE",
                                        "SOFT",
                                        "HARD"
                                    ]
                                },
                                "actionParameters": {
                                    "type": "array",
                                    "items": {
                                        "title": "actionParameter",
                                        "type": "object",
                                        "additionalProperties": false,
                                        "required": [
                                            "key",
                                            "value"
                                        ],
                                        "properties": {
                                            "key": {
                                                "type": "string",
                                                "examples": [
                                                    "duration",
                                                    "direction",
                                                    "signal"
                                                ]
                                            },
                                            "value": {
                                                "type": [
                                                    "array",
                                                    "boolean",
                                                    "number",
                                                    "string"
                                                ],
                                                "examples": [
                                                    103.2,
                                                    "left",
                                                    true,
                                                    [
                                                        "arrays",
                                                        "are",
                                                        "also",
                                                        "valid"
                                                    ]
                                                ]
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    }
                }
            }
        }
    },
    "required": [
        "headerId",
        "timestamp",
        "version",
        "manufacturer",
        "serialNumber",
        "orderId",
        "orderUpdateId",
        "nodes",
        "edges"
    ]
}
